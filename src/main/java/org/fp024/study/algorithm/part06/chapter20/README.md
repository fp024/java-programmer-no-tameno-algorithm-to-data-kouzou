##  Chapter 20 동적 계획

### 20.1 동적 계획이란?
* 분할 정복 (divide and conquest) 
    * 전체를 몇 개의 작은 문제로 분해한, 그 하나하나를 각각 해결해나가는 방법
    * 작은 문제의 결과를 테이블에 저장해 두고, 필요에 따라 (직접 계산 없이) 그 테이블에서 꺼내서 사용하면 처리시간을 대폭 출일 수 있음.
    
* 동적 계획 (dynamic programming)
    * `정말로 필요할지 어떨지를 생각하지 않고 언젠가 필요해질 것 같은 작은 문제를 모두 풀어 테이블에 넣어두는 것`

* 동적 계획을 이용할 수 있는 문제
    1. 주어진 문제를 작은 문제로 분할할 수 있어야함.
    2. 분할하여 얻어진 작은 문제들의 수가 너무 많으면 안됨.
    
* 분할 정복은 큰 문제를 작은 문제로 분할하여 풀어가는 방식 => 하향식 (top-down)
* 동적 계획은 작은 문제를 쌓아 올려 최종적으로 전체의 답을 구하는 방식 => 상향식 (bottom-up)


### 20.2 배낭 문제
#### 20.2.1 배낭 문제란?
* 배낭 문제의 정의 (knapsack problem)
`N 종류의 물건이 있고, 각각의 크기와 가격이 정해져 있을 때,`
`크기의 합계가 M이하가 되며 가격의 합계가 최대가 되는 물건들을 구한다.`
    * `M 만큼의 물건을 넣을 수 있는 배낭에 최대한 비싼 물건 들을 집어 넣는다.`   

* 물건 개수에 대한 조건
    1. 각 물건을 얼마든지 골라도 된다. (즉 물건 개수에 제한이 없다.)
    2. 각 물건은 개수 제한이 있다.
    3. 각 물건은 하나만 존재한다.
    
* 물건의 크기, 배낭의 크기에 대한 조건
    1. 정수로 한정한다.
    2. 실수를 허용한다.
    
    
#### 20.2.2 배낭 문제의 해법

* 물건의 크기와 가격 예시

    | 물건 | 0    | 1    | 2    | 3    | 4    |
    | ---- | ---- | ---- | ---- | ---- | ---- |
    | 크기 | 2    | 3    | 5    | 7    | 9    |
    | 가격 | 2    | 4    | 7    | 11   | 14   |

* 위의 예시를 동적 계획으로 적용시도 (실제 배낭문제는 백트래킹이 적합하다고 함.)
    * N종류의 물건이 있으며 배낭의 크기는 M이라고 한다.

* 작은 문제로 분할 하는 방법
    * `배낭의 크기 M만이 아니라 0이상 M이하 모든 배낭 크기에 대해서도 답을 구해 표로 정리한다.`
    
* 동적 계획으로 배낭 문제를 푸는 과정
    1. 물건 0만 사용
    
       | 배낭의 크기        | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   | 16   |
       | ------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
       | 가격의 합          | 0    | 0    | 2    | 2    | 4    | 4    | 6    | 6    | 8    | 8    | 10   | 10   | 12   | 12   | 14   | 14   | 16   |
       | 마지막에 넣은 물건 | -1   | -1   | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    | 0    |
    
    2. 물건 0, 1을 사용

       | 배낭의 크기        | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   | 16   |
       | ------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
       | 가격의 합          | 0    | 0    | 2    | 4    | 4    | 6    | 8    | 8    | 10   | 12   | 12   | 14   | 16   | 16   | 18   | 20   | 20   |
       | 마지막에 넣은 물건 | -1   | -1   | 0    | 1    | 0    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    | 1    |
    
    3. 물건 0, 1, 2를 사용 
    
       | 배낭의 크기        | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   | 16   |
       | ------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
       | 가격의 합          | 0    | 0    | 2    | 4    | 4    | 7    | 8    | 9    | 11   | 12   | 14   | 15   | 16   | 18   | 19   | 21   | 22   |
       | 마지막에 넣은 물건 | -1   | -1   | 0    | 1    | 0    | 2    | 1    | 2    | 2    | 1    | 2    | 2    | 1    | 2    | 2    | 2    | 2    |
    
    4. 물건 0, 1, 2, 3을 사용
    
       | 배낭의 크기        | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   | 16   |
       | ------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
       | 가격의 합          | 0    | 0    | 2    | 4    | 4    | 7    | 8    | 11   | 11   | 13   | 15   | 15   | 18   | 19   | 22   | 22   | 24   |
       | 마지막에 넣은 물건 | -1   | -1   | 0    | 1    | 0    | 2    | 1    | 3    | 2    | 3    | 3    | 2    | 3    | 3    | 3    | 3    | 3    |
    
    5. 물건 0, 1, 2, 3, 4를 사용
    
       | 배낭의 크기        | 0    | 1    | 2    | 3    | 4    | 5    | 6    | 7    | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   | 16   |
       | ------------------ | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
       | 가격의 합          | 0    | 0    | 2    | 4    | 4    | 7    | 8    | 11   | 11   | 14   | 15   | 16   | 18   | 19   | 22   | 22   | 25   |
       | 마지막에 넣은 물건 | -1   | -1   | 0    | 1    | 0    | 2    | 1    | 3    | 2    | 4    | 3    | 4    | 3    | 3    | 3    | 3    | 4    |
    
       
    
#### 20.2.3 배낭 문제를 푸는 프로그램
* Knapsack 클래스 참고


#### 20.2.4 배낭 문제의 복잡도
* 물건의 종류를 N, 배낭의 크기를 M으로 할 때의, 동적 계획을 이용한 배낭 문제 복잡도
    * O(MN)
